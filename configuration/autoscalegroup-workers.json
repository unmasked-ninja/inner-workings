{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Autoscaling Group for Workers",
  
  "Parameters": {
    "AMI_ID": {
       "Description": "The AMI Id for the worker instances",
       "Type": "String"
    },
    "INSTANCE_TYPE": {
      "Description": "The instance type for the worker instances",
      "Type": "String",
      "DefaultValue": "m1.small"
    },
    "USERDATA": {
      "Description": "User data used to initialize the worker instances",
      "Type": "String"
    },
    "SUBNETS": {
      "Description": "The subnets (availbility zones) to launch instances into",
      "Type": "String"
    }
    "NAT_NAMES": {
      "Description": "The names of the NAT instances (or Load Balancers) which allow access to the internet for this autoscaling group",
      "Type": "String"
    }
  },
  
  "Resources": {
    "WorkerLaunchConfiguration" : {
      "Type": "AWS::AutoScaling::LaunchConfiguration",
      "Properties" : {
        "ImageId" : { "Ref": "AMI_ID" },
        "InstanceType" : { "Ref": "INSTANCE_TYPE"},
      }
    },
    "WorkerAutoScalingGroup" : {
      "Type" : "AWS::AutoScaling::AutoScalingGroup",
      "Properties" : {
        "AvailabilityZones" : { "Fn::GetAZs" : ""},
        "LaunchConfigurationName" : { "Ref" : "WorkerLaunchConfiguration" },
        "MinSize" : "1",
        "MaxSize" : "3"
      }
    }
  },
  
  "Outputs": {
    
  }
}
